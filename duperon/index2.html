<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Example - example-example32-production</title>
  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
  <script src="js/smart-table.min.js"></script>
  

  
</head>
<body ng-app="formExample">
  <div ng-controller="ExampleController">
    <form validate class="simple-form">
      <div class="form-group">
        Proposed Sale Price: <input type="number" ng-model="val.proposed_price" /><br />
      </div>
        <div class="form-group">
        HP Motor: <input type="number" ng-model="val.hp_motor" /><br />
      </div>
        <div class="form-group">
        Energy Rate: <input type="number" ng-model="val.energy_rate" /><br />
      </div>
        <div class="form-group">
        Operational Run Time per Day: <input type="number" ng-model="val.operational_run_time" /><br />
      </div>
        <div class="form-group">
        Maintenance Labor Rate per Hour: <input type="number" ng-model="val.maintenance_labor_rate" /><br />
      </div>
        <div class="form-group">
        Maintenance Man Hours per Month: <input type="number" ng-model="val.maintenance_man_hours" /><br />
      </div>
        <div class="form-group">
        Operational Man Hours per Day: <input type="number" ng-model="val.operational_man_hours" /><br />
      </div>
        <div class="form-group">
        Operational Labor Rate per Day: <input type="number" ng-model="val.operational_labor_rate" /><br />
      </div>
        <div class="form-group">
        Installation Man Hours: <input type="number" ng-model="val.installation_man_hours" /><br />
      </div>
        <div class="form-group">
        Installation Labor Rate per Hour: <input type="number" ng-model="val.installation_labor_rate" /><br />
      </div>
        <div class="form-group">
        Interest Rate: <input type="number" ng-model="val.interest_rate" /><br />
      </div>
      <input type="button" ng-click="reset()" value="Reset" />
      <input type="submit" ng-click="update(val)" value="Calculate" />
    </form>
    <pre>val = {{val | json}}</pre>
    <pre>master = {{master | json}}</pre>
    <pre>rowCollection = {{total[0]}}</pre>
    {{val.proposed_price}}

    <table class="table table-bordered">
      <thead>
        <tr>
          <th></th>
          <th>1</th>
          <th>2</th>
          <th>3</th>
          <th>4</th>
          <th>5</th>
          <th>6</th>
          <th>7</th>
          <th>8</th>
          <th>9</th>
          <th>10</th>
          <th>11</th>
          <th>12</th>
          <th>13</th>
          <th>14</th>
          <th>15</th>
          <th>16</th>
          <th>17</th>
          <th>18</th>
          <th>19</th>
          <th>20</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td colspan="21"><b>Aquisition Costs</b></td>
        </tr>
        <tr>
          <td>Initial Capital Cost</td>
          <td class="icc 1" id="">{{val.proposed_price | number}}</td>
          <td class="icc 2" id=""></td>
          <td class="icc 3" id=""></td>
          <td class="icc 4" id=""></td>
          <td class="icc 5" id=""></td>
          <td class="icc 6" id=""></td>
          <td class="icc 7" id=""></td>
          <td class="icc 8" id=""></td>
          <td class="icc 9" id=""></td>
          <td class="icc 10" id=""></td>
          <td class="icc 11" id=""></td>
          <td class="icc 12" id=""></td>
          <td class="icc 13" id=""></td>
          <td class="icc 14" id=""></td>
          <td class="icc 15" id=""></td>
          <td class="icc 16" id=""></td>
          <td class="icc 17" id=""></td>
          <td class="icc 18" id=""></td>
          <td class="icc 19" id=""></td>
          <td class="icc 20" id=""></td>
        </tr>
        <tr>
          <td>Installation Labor Costs</td>
          <td class="ilc 1" id="">{{val.installation_man_hours * val.installation_labor_rate | number}}</td>
          <td class="ilc 2" id=""></td>
          <td class="ilc 3" id=""></td>
          <td class="ilc 4" id=""></td>
          <td class="ilc 5" id=""></td>
          <td class="ilc 6" id=""></td>
          <td class="ilc 7" id=""></td>
          <td class="ilc 8" id=""></td>
          <td class="ilc 9" id=""></td>
          <td class="ilc 10" id=""></td>
          <td class="ilc 11" id=""></td>
          <td class="ilc 12" id=""></td>
          <td class="ilc 13" id=""></td>
          <td class="ilc 14" id=""></td>
          <td class="ilc 15" id=""></td>
          <td class="ilc 16" id=""></td>
          <td class="ilc 17" id=""></td>
          <td class="ilc 18" id=""></td>
          <td class="ilc 19" id=""></td>
          <td class="ilc 20" id=""></td>
        </tr>
        <tr>
          <td colspan="21"><b>Operation Costs</b></td>
        </tr>
        <tr>
          <td>Scheduled Maintenance Labor Cost</td>
          <td class="smlc 1" id="">{{12 * val.maintenance_labor_rate * val.maintenance_man_hours | number}}</td>
          <td class="smlc 2" id="">{{12 * val.maintenance_labor_rate * val.maintenance_man_hours | number}}</td>
          <td class="smlc 3" id="">{{12 * val.maintenance_labor_rate * val.maintenance_man_hours | number}}</td>
          <td class="smlc 4" id="">{{12 * val.maintenance_labor_rate * val.maintenance_man_hours | number}}</td>
          <td class="smlc 5" id="">{{12 * val.maintenance_labor_rate * val.maintenance_man_hours | number}}</td>
          <td class="smlc 6" id="">{{12 * val.maintenance_labor_rate * val.maintenance_man_hours | number}}</td>
          <td class="smlc 7" id="">{{12 * val.maintenance_labor_rate * val.maintenance_man_hours | number}}</td>
          <td class="smlc 8" id="">{{12 * val.maintenance_labor_rate * val.maintenance_man_hours | number}}</td>
          <td class="smlc 9" id="">{{12 * val.maintenance_labor_rate * val.maintenance_man_hours | number}}</td>
          <td class="smlc 10" id="">{{12 * val.maintenance_labor_rate * val.maintenance_man_hours | number}}</td>
          <td class="smlc 11" id="">{{12 * val.maintenance_labor_rate * val.maintenance_man_hours | number}}</td>
          <td class="smlc 12" id="">{{12 * val.maintenance_labor_rate * val.maintenance_man_hours | number}}</td>
          <td class="smlc 13" id="">{{12 * val.maintenance_labor_rate * val.maintenance_man_hours | number}}</td>
          <td class="smlc 14" id="">{{12 * val.maintenance_labor_rate * val.maintenance_man_hours | number}}</td>
          <td class="smlc 15" id="">{{12 * val.maintenance_labor_rate * val.maintenance_man_hours | number}}</td>
          <td class="smlc 16" id="">{{12 * val.maintenance_labor_rate * val.maintenance_man_hours | number}}</td>
          <td class="smlc 17" id="">{{12 * val.maintenance_labor_rate * val.maintenance_man_hours | number}}</td>
          <td class="smlc 18" id="">{{12 * val.maintenance_labor_rate * val.maintenance_man_hours | number}}</td>
          <td class="smlc 19" id="">{{12 * val.maintenance_labor_rate * val.maintenance_man_hours | number}}</td>
          <td class="smlc 20" id="">{{12 * val.maintenance_labor_rate * val.maintenance_man_hours | number}}</td>
        </tr>
        <tr>
          <td>Unscheduled Maintenance Labor Cost</td>
          <td class="umlc 1" id=""></td>
          <td class="umlc 2" id=""></td>
          <td class="umlc 3" id=""></td>
          <td class="umlc 4" id=""></td>
          <td class="umlc 5" id=""></td>
          <td class="umlc 6" id=""></td>
          <td class="umlc 7" id=""></td>
          <td class="umlc 8" id=""></td>
          <td class="umlc 9" id=""></td>
          <td class="umlc 10" id=""></td>
          <td class="umlc 11" id=""></td>
          <td class="umlc 12" id=""></td>
          <td class="umlc 13" id=""></td>
          <td class="umlc 14" id=""></td>
          <td class="umlc 15" id=""></td>
          <td class="umlc 16" id=""></td>
          <td class="umlc 17" id=""></td>
          <td class="umlc 18" id=""></td>
          <td class="umlc 19" id=""></td>
          <td class="umlc 20" id=""></td>
        </tr>
        <tr>
          <td>Operation Labor Cost</td>
          <td class="olc 1" id="">{{365 * val.operational_labor_rate * val.operational_man_hours | number}}</td>
          <td class="olc 2" id="">{{365 * val.operational_labor_rate * val.operational_man_hours | number}}</td>
          <td class="olc 3" id="">{{365 * val.operational_labor_rate * val.operational_man_hours | number}}</td>
          <td class="olc 4" id="">{{365 * val.operational_labor_rate * val.operational_man_hours | number}}</td>
          <td class="olc 5" id="">{{365 * val.operational_labor_rate * val.operational_man_hours | number}}</td>
          <td class="olc 6" id="">{{365 * val.operational_labor_rate * val.operational_man_hours | number}}</td>
          <td class="olc 7" id="">{{365 * val.operational_labor_rate * val.operational_man_hours | number}}</td>
          <td class="olc 8" id="">{{365 * val.operational_labor_rate * val.operational_man_hours | number}}</td>
          <td class="olc 9" id="">{{365 * val.operational_labor_rate * val.operational_man_hours | number}}</td>
          <td class="olc 10" id="">{{365 * val.operational_labor_rate * val.operational_man_hours | number}}</td>
          <td class="olc 11" id="">{{365 * val.operational_labor_rate * val.operational_man_hours | number}}</td>
          <td class="olc 12" id="">{{365 * val.operational_labor_rate * val.operational_man_hours | number}}</td>
          <td class="olc 13" id="">{{365 * val.operational_labor_rate * val.operational_man_hours | number}}</td>
          <td class="olc 14" id="">{{365 * val.operational_labor_rate * val.operational_man_hours | number}}</td>
          <td class="olc 15" id="">{{365 * val.operational_labor_rate * val.operational_man_hours | number}}</td>
          <td class="olc 16" id="">{{365 * val.operational_labor_rate * val.operational_man_hours | number}}</td>
          <td class="olc 17" id="">{{365 * val.operational_labor_rate * val.operational_man_hours | number}}</td>
          <td class="olc 18" id="">{{365 * val.operational_labor_rate * val.operational_man_hours | number}}</td>
          <td class="olc 19" id="">{{365 * val.operational_labor_rate * val.operational_man_hours | number}}</td>
          <td class="olc 20" id="">{{365 * val.operational_labor_rate * val.operational_man_hours | number}}</td>
        </tr>
        <tr>
          <td>Energy Cost</td>
          <td class="ec 1" id="">{{365 * val.energy_rate * val.operational_run_time}}</td>
          <td class="ec 2" id="">{{365 * val.energy_rate * val.operational_run_time}}</td>
          <td class="ec 3" id="">{{365 * val.energy_rate * val.operational_run_time}}</td>
          <td class="ec 4" id="">{{365 * val.energy_rate * val.operational_run_time}}</td>
          <td class="ec 5" id="">{{365 * val.energy_rate * val.operational_run_time}}</td>
          <td class="ec 6" id="">{{365 * val.energy_rate * val.operational_run_time}}</td>
          <td class="ec 7" id="">{{365 * val.energy_rate * val.operational_run_time}}</td>
          <td class="ec 8" id="">{{365 * val.energy_rate * val.operational_run_time}}</td>
          <td class="ec 9" id="">{{365 * val.energy_rate * val.operational_run_time}}</td>
          <td class="ec 10" id="">{{365 * val.energy_rate * val.operational_run_time}}</td>
          <td class="ec 11" id="">{{365 * val.energy_rate * val.operational_run_time}}</td>
          <td class="ec 12" id="">{{365 * val.energy_rate * val.operational_run_time}}</td>
          <td class="ec 13" id="">{{365 * val.energy_rate * val.operational_run_time}}</td>
          <td class="ec 14" id="">{{365 * val.energy_rate * val.operational_run_time}}</td>
          <td class="ec 15" id="">{{365 * val.energy_rate * val.operational_run_time}}</td>
          <td class="ec 16" id="">{{365 * val.energy_rate * val.operational_run_time}}</td>
          <td class="ec 17" id="">{{365 * val.energy_rate * val.operational_run_time}}</td>
          <td class="ec 18" id="">{{365 * val.energy_rate * val.operational_run_time}}</td>
          <td class="ec 19" id="">{{365 * val.energy_rate * val.operational_run_time}}</td>
          <td class="ec 20" id="">{{365 * val.energy_rate * val.operational_run_time}}</td>
        </tr>
        <tr>
          <td colspan="21"><b>Aquisition Costs</b></td>
        </tr>
        <tr>
          <td>Total Costs</td>
          <td class="tc 1" id="">{{total[0] | number}}</td>
          <td class="tc 2" id="">{{total[1] | number}}</td>
          <td class="tc 3" id="">{{total[2] | number}}</td>
          <td class="tc 4" id="">{{total[3] | number}}</td>
          <td class="tc 5" id="">{{total[4] | number}}</td>
          <td class="tc 6" id="">{{total[5] | number}}</td>
          <td class="tc 7" id="">{{total[6] | number}}</td>
          <td class="tc 8" id="">{{total[7] | number}}</td>
          <td class="tc 9" id="">{{total[8] | number}}</td>
          <td class="tc 10" id="">{{total[9] | number}}</td>
          <td class="tc 11" id="">{{total[10] | number}}</td>
          <td class="tc 12" id="">{{total[11] | number}}</td>
          <td class="tc 13" id="">{{total[12] | number}}</td>
          <td class="tc 14" id="">{{total[13] | number}}</td>
          <td class="tc 15" id="">{{total[14] | number}}</td>
          <td class="tc 16" id="">{{total[15] | number}}</td>
          <td class="tc 17" id="">{{total[16] | number}}</td>
          <td class="tc 18" id="">{{total[17] | number}}</td>
          <td class="tc 19" id="">{{total[18] | number}}</td>
          <td class="tc 20" id="">{{total[19] | number}}</td>
        </tr>
      </tbody>
    </table>
  </div>

<script>
  angular.module('formExample', [])
    .controller('ExampleController', ['$scope', 'numberFilter', function($scope, number) {
      $scope.val = number($scope.val);
      $scope.master = {};
      $scope.costs = {};
      $scope.total = [];

      $scope.update = function(val) {
        $scope.master = angular.copy((val));
        // $scope.costs.initial = $scope.master.proposed_price;
        // $scope.costs.labor = $scope.val.installation_man_hours * val.installation_labor_rate;
        // $scope.costs.scheduled_maintenance_labor = 365 * val.maintenance_labor_rate * val.maintenance_man_hours;
        // $scope.costs.operation_labor = 365 * val.operation_labor_rate * val.operational_man_hours;
        // $scope.costs.energy = 365 * val.energy_rate * val.operational_run_time;
        // $scope.total();
      };

      $scope.total = function() {
        var cost = [];
        var test = [];
        var target_class = ['.icc.', '.ilc.', '.smlc.', '.olc.', '.ec.'];
        for (var i = 1; i < 21; i++) {
          var total = 0;
          var sub_total;
          for (var j=0; j<5; j++){
            if ($(target_class[j]+i).text() == ''){
              sub_total = 0;
            } else {
              sub_total = $(target_class[j]+i).text().replace(',' , '');
            }
            sub_total = parseFloat(sub_total);
            total += sub_total;
          }
          test.push(total);
          parseFloat($(".icc#"+i).text().replace(',' , ''));
          $scope.total = test;
        }
      }

      $scope.reset = function() {
        val = angular.copy($scope.master);
      };

      $scope.reset();
    }]);
</script>

</body>
</html>